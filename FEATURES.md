# ğŸ¯ CaracterÃ­sticas de la AplicaciÃ³n

## ğŸ“± Vista General

Esta aplicaciÃ³n fullstack incluye:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸŒ FRONTEND (React)                    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Login   â”‚  â”‚  Signup  â”‚  â”‚    Navigation Bar    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   GestiÃ³n Usuarios     â”‚  â”‚      Noticias      â”‚    â”‚
â”‚  â”‚  - Listar             â”‚  â”‚  - Ver mensajes    â”‚    â”‚
â”‚  â”‚  - Crear              â”‚  â”‚  - Actualizar      â”‚    â”‚
â”‚  â”‚  - Editar             â”‚  â”‚  - Crear manual    â”‚    â”‚
â”‚  â”‚  - Eliminar           â”‚  â”‚                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•ï¸
              ComunicaciÃ³n vÃ­a REST + JWT
                          â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âš™ï¸ BACKEND (Spring Boot)                    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           ğŸ” Spring Security + JWT                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Auth     â”‚  â”‚    Users     â”‚  â”‚   Telegram   â”‚  â”‚
â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚  â”‚  Controller  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“                 â†“                  â†“           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Auth     â”‚  â”‚    User      â”‚  â”‚   Telegram   â”‚  â”‚
â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“                 â†“                  â†“           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     User     â”‚  â”‚     User     â”‚  â”‚   Message    â”‚  â”‚
â”‚  â”‚  Repository  â”‚  â”‚  Repository  â”‚  â”‚  Repository  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â†“                               â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚              â”‚   ğŸ“Š H2 Database    â”‚                    â”‚
â”‚              â”‚      (Memory)       â”‚                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•ï¸
                 Opcional: Telegram API
                          â†•ï¸
                  ğŸ“± Canal de Telegram
                  @afa_lluis_braille
```

## ğŸ” Sistema de AutenticaciÃ³n

### Flujo de Login
```
Usuario ingresa credenciales
        â†“
Frontend envÃ­a POST /api/auth/login
        â†“
Backend valida con Spring Security
        â†“
Se genera token JWT (vÃ¡lido 24h)
        â†“
Frontend guarda token en LocalStorage
        â†“
Usuario accede a la aplicaciÃ³n
```

### Flujo de Peticiones Protegidas
```
Usuario hace acciÃ³n (ej: crear usuario)
        â†“
Frontend aÃ±ade header: Authorization: Bearer <token>
        â†“
Backend valida token con filtro JWT
        â†“
Si vÃ¡lido: procesa peticiÃ³n
Si invÃ¡lido: 401 Unauthorized
        â†“
Frontend redirige a login si 401
```

## ğŸ‘¥ GestiÃ³n de Usuarios

### Operaciones CRUD

| OperaciÃ³n | Endpoint | MÃ©todo | Requiere Auth |
|-----------|----------|--------|---------------|
| Listar    | /api/users | GET | âœ… |
| Crear     | /api/users | POST | âœ… |
| Ver uno   | /api/users/{id} | GET | âœ… |
| Actualizar | /api/users/{id} | PUT | âœ… |
| Eliminar  | /api/users/{id} | DELETE | âœ… |

### Campos del Usuario
```javascript
{
  id: Long,           // Generado automÃ¡ticamente
  name: String,       // Nombre completo
  username: String,   // Usuario Ãºnico (4-20 chars)
  email: String,      // Email Ãºnico
  password: String,   // Encriptado con BCrypt
  phone: String,      // Opcional
  createdAt: DateTime // AutomÃ¡tico
}
```

## ğŸ“° Sistema de Noticias

### Fuentes de Noticias

1. **Telegram Bot** (AutomÃ¡tico)
   - Sincroniza mensajes del canal
   - ActualizaciÃ³n manual vÃ­a botÃ³n
   - Requiere configuraciÃ³n de bot

2. **CreaciÃ³n Manual** (Para pruebas)
   - Formulario en la interfaz
   - No requiere bot de Telegram
   - Ãštil para desarrollo

### Estructura de Mensaje
```javascript
{
  id: Long,              // Generado
  messageId: Integer,    // ID de Telegram o timestamp
  text: String,          // Contenido del mensaje
  channelUsername: String, // @afa_lluis_braille
  messageDate: DateTime,  // Fecha del mensaje
  createdAt: DateTime    // Fecha de guardado
}
```

## ğŸ¨ Interfaz de Usuario

### PÃ¡ginas Principales

1. **Login/Signup** (No autenticado)
   - DiseÃ±o con gradiente morado/azul
   - ValidaciÃ³n de formularios
   - Mensajes de error claros

2. **Dashboard** (Autenticado)
   - Barra de navegaciÃ³n superior
   - Nombre del usuario visible
   - BotÃ³n de logout
   - NavegaciÃ³n entre secciones

3. **GestiÃ³n de Usuarios**
   - Tabla responsive
   - Botones de acciÃ³n (editar/eliminar)
   - Formulario modal para crear/editar
   - Estados de carga y error

4. **Noticias**
   - DiseÃ±o tipo tarjetas
   - Ordenadas por fecha descendente
   - BotÃ³n de actualizaciÃ³n
   - Formulario de prueba

## ğŸ”’ Seguridad Implementada

### Backend
- âœ… BCrypt para contraseÃ±as (salt + hash)
- âœ… JWT firmado con HS512
- âœ… ValidaciÃ³n de tokens en cada peticiÃ³n
- âœ… Spring Security configurado
- âœ… Endpoints pÃºblicos limitados
- âœ… Sesiones stateless
- âœ… CORS restringido

### Frontend
- âœ… Tokens en LocalStorage (no cookies)
- âœ… Interceptores de Axios automÃ¡ticos
- âœ… RedirecciÃ³n en caso de 401
- âœ… Limpieza de datos al logout
- âœ… ValidaciÃ³n de formularios
- âœ… No se exponen contraseÃ±as

## ğŸ“Š Base de Datos

### H2 (Desarrollo)
```sql
-- Tabla de usuarios
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    username VARCHAR(20) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    phone VARCHAR(50),
    created_at TIMESTAMP
);

-- Tabla de mensajes de Telegram
CREATE TABLE telegram_messages (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    message_id INTEGER UNIQUE,
    text TEXT,
    channel_username VARCHAR(255),
    message_date TIMESTAMP,
    created_at TIMESTAMP
);
```

### CaracterÃ­sticas
- ğŸ’¾ Base de datos en memoria
- ğŸ”„ Se reinicia al reiniciar backend
- ğŸ¯ Ideal para desarrollo
- ğŸ–¥ï¸ Consola web en /h2-console
- ğŸ“Š SQL standard

## ğŸŒ API REST

### Endpoints PÃºblicos (Sin autenticaciÃ³n)
```
POST   /api/auth/login        # Iniciar sesiÃ³n
POST   /api/auth/signup       # Registrarse
GET    /api/telegram/messages # Ver noticias
POST   /api/telegram/fetch    # Actualizar noticias
POST   /api/telegram/manual   # Crear noticia manual
```

### Endpoints Protegidos (Con JWT)
```
GET    /api/users             # Listar usuarios
POST   /api/users             # Crear usuario
GET    /api/users/{id}        # Ver usuario
PUT    /api/users/{id}        # Actualizar usuario
DELETE /api/users/{id}        # Eliminar usuario
```

## ğŸ¯ Ventajas de esta Arquitectura

### SeparaciÃ³n de Responsabilidades
- Frontend: UI/UX y experiencia de usuario
- Backend: LÃ³gica de negocio y datos
- Base de datos: Persistencia

### Escalabilidad
- Frontend y backend independientes
- FÃ¡cil de escalar horizontalmente
- Microservicios ready

### Seguridad
- AutenticaciÃ³n stateless con JWT
- No hay sesiones en servidor
- Tokens con expiraciÃ³n

### Mantenibilidad
- CÃ³digo organizado en capas
- SeparaciÃ³n clara de concerns
- FÃ¡cil de testear

### Flexibilidad
- Frontend puede cambiar (React â†’ Vue)
- Backend puede cambiar (Spring â†’ Node)
- Base de datos puede cambiar (H2 â†’ MySQL)

## ğŸ“ˆ Casos de Uso

### Caso 1: Usuario nuevo se registra
1. Usuario completa formulario de registro
2. Frontend valida datos
3. EnvÃ­a POST /api/auth/signup
4. Backend valida y encripta contraseÃ±a
5. Guarda usuario en BD
6. Retorna confirmaciÃ³n
7. Usuario puede hacer login

### Caso 2: Usuario ve noticias
1. Usuario hace login
2. Navega a secciÃ³n "Noticias"
3. Frontend solicita GET /api/telegram/messages
4. Backend consulta BD
5. Retorna lista de noticias
6. Frontend las muestra ordenadas

### Caso 3: Usuario gestiona usuarios
1. Usuario autenticado accede a "Usuarios"
2. Ve lista actual
3. Clic en "Nuevo Usuario"
4. Completa formulario
5. Frontend envÃ­a POST /api/users con token
6. Backend valida token y datos
7. Guarda en BD
8. Actualiza lista en frontend

## ğŸ”„ Flujo Completo de una PeticiÃ³n

```
Usuario hace click â†’ Frontend
                        â†“
            Interceptor aÃ±ade JWT
                        â†“
            POST/GET/PUT/DELETE â†’ Backend
                        â†“
            AuthTokenFilter valida JWT
                        â†“
                    Â¿VÃ¡lido?
                   â†™ï¸      â†˜ï¸
                 SÃ­       No
                 â†“         â†“
            Controller  401 Error
                 â†“         
             Service      
                 â†“         
            Repository   
                 â†“         
             Database    
                 â†“         
            Respuesta â†’ Frontend
                        â†“
            Actualiza UI
```

## ğŸ¨ Stack TecnolÃ³gico Completo

### Backend
```
Spring Boot 3.2.0
â”œâ”€â”€ Spring Web (REST)
â”œâ”€â”€ Spring Data JPA (Persistencia)
â”œâ”€â”€ Spring Security (AutenticaciÃ³n)
â”œâ”€â”€ H2 Database (Desarrollo)
â”œâ”€â”€ Lombok (Reducir boilerplate)
â”œâ”€â”€ JWT (io.jsonwebtoken)
â”œâ”€â”€ Telegram Bots API
â””â”€â”€ WebFlux (HTTP Client)
```

### Frontend
```
React 18
â”œâ”€â”€ Vite (Build tool)
â”œâ”€â”€ Axios (HTTP client)
â”œâ”€â”€ Context API (Estado global)
â”œâ”€â”€ React Hooks (useState, useEffect, useContext)
â”œâ”€â”€ CSS3 (Estilos)
â””â”€â”€ LocalStorage (Persistencia cliente)
```

## ğŸ“š Recursos Adicionales

- ğŸ“– **README.md** - DocumentaciÃ³n completa
- ğŸš€ **QUICKSTART.md** - Inicio rÃ¡pido
- ğŸ“± **TELEGRAM_SETUP.md** - Configurar Telegram
- ğŸ§ª **TEST_DATA.md** - Datos de prueba
- ğŸ“ **CHANGELOG.md** - Historial de cambios

---

Â¡AplicaciÃ³n fullstack profesional lista para usar! ğŸ‰
